<!DOCTYPE html>
<html lang='fr'>

<head>
  <meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='description' content='Trichromatism est un outil de conversion d&rsquo;image bitmap en image vectorielle composée de lignes de 3 couleurs qui peuvent ensuite être dessinée par un traceur comme le Tipibot.
Un shader de previsualisation permet de faire un réglage des paramètres en temps réel.
Un algrithme similaire est ensuite executé sur le CPU pour générer le fichier vectoriel SVG correspondant.
Sources
Quelques resultats



Rendu
L&rsquo;objectif est le suivant :

calculer 4 nouvelles couleurs à partir des 3 couleurs données (mélanger la couleur A avec la couleur B, la A avec la C, la B avec la C, puis les trois ensemble)
cela donne donc 7 couleurs, plus le noir et le blanc,
pour chaque pixel de l&rsquo;image, trouver la couleur la plus proche,
dessiner les lignes correspondantes avec l&rsquo;angle donné.

Le shader est compliqué.'>
<meta name='theme-color' content='#ffcd00'>

<meta property='og:title' content='Trichromatism • AM'>
<meta property='og:description' content='Trichromatism est un outil de conversion d&rsquo;image bitmap en image vectorielle composée de lignes de 3 couleurs qui peuvent ensuite être dessinée par un traceur comme le Tipibot.
Un shader de previsualisation permet de faire un réglage des paramètres en temps réel.
Un algrithme similaire est ensuite executé sur le CPU pour générer le fichier vectoriel SVG correspondant.
Sources
Quelques resultats



Rendu
L&rsquo;objectif est le suivant :

calculer 4 nouvelles couleurs à partir des 3 couleurs données (mélanger la couleur A avec la couleur B, la A avec la C, la B avec la C, puis les trois ensemble)
cela donne donc 7 couleurs, plus le noir et le blanc,
pour chaque pixel de l&rsquo;image, trouver la couleur la plus proche,
dessiner les lignes correspondantes avec l&rsquo;angle donné.

Le shader est compliqué.'>
<meta property='og:url' content='http://arthurmasson.xyz/fr/trichromatism/'>
<meta property='og:site_name' content='AM'>
<meta property='og:type' content='article'><meta property='article:section' content='post'><meta property='article:tag' content='artwork'><meta property='article:tag' content='experiment'><meta property='article:tag' content='application'><meta property='article:tag' content='from1to18days'><meta property='article:published_time' content='2019-04-12T00:00:11Z'/><meta property='article:modified_time' content='2019-04-12T00:00:11Z'/><meta name='twitter:card' content='summary'>

<meta name="generator" content="Hugo 0.139.2">

  <title>Trichromatism • AM</title>
  <link rel='canonical' href='http://arthurmasson.xyz/fr/trichromatism/'>
  
  <link rel='alternate' hreflang='fr' href='http://arthurmasson.xyz/fr/trichromatism/'><link rel='alternate' hreflang='en' href='http://arthurmasson.xyz/trichromatism/'><link rel='alternate' hreflang='x-default' href='http://arthurmasson.xyz/trichromatism/'>
  <link rel='icon' href='/favicon.ico'>
<link rel='stylesheet' href='/assets/css/main.ab98e12b.css'><link rel='stylesheet' href='/assets/css/custom.css'><style>
:root{--color-accent:#ffcd00;}
</style>

  

</head>


<body class='page type-post'>
  <div class='site'>

    <a class='screen-reader' href='#main'>Aller au contenu</a>

    <header id='header' class='header-container'>
      <div class='header site-header'>
        <nav id='main-menu' class='menu main-menu' aria-label='Menu principal'>
  <div class='container'>
    
    <ul><li class='item'>
        <a href='/fr/'>AM</a>
      </li><li class='item'>
        <a href='/fr/contact/'>Contact</a>
      </li><li class='item'>
        <a href='/fr/cv/'>CV</a>
      </li></ul>
  </div>
</nav>
      </div>
    </header>


<article lang='fr' class='entry'>
  <header class='header entry-header'>
  <div class='container sep-after'>
    <div class='header-info'>
      <h1 class='title'>Trichromatism</h1>
      

    </div>
    <div class='entry-meta'>
  <span class='posted-on'><svg
  class="icon"
  xmlns="http://www.w3.org/2000/svg"
  viewbox="0 0 24 24"
  stroke-linecap="round"
  stroke-linejoin="round"
  stroke-width="2"
  aria-hidden="true"
><rect x="3" y="4" width="18" height="18" rx="2" ry="2" />
<line x1="16" y1="2" x2="16" y2="6" />
<line x1="8" y1="2" x2="8" y2="6" />
<line x1="3" y1="10" x2="21" y2="10" />
</svg>
<span class='screen-reader-text'>Publié le </span>
  <time class='entry-date' datetime='2019-04-12T00:00:11Z'>2019, Apr 12</time>
</span>

  
  
<span class='reading-time'><svg
  class="icon"
  xmlns="http://www.w3.org/2000/svg"
  viewbox="0 0 24 24"
  stroke-linecap="round"
  stroke-linejoin="round"
  stroke-width="2"
  aria-hidden="true"
><circle cx="12" cy="12" r="10" />
<polyline points="12 6 12 12 15 15" />
</svg>
2 minutes de lecture
</span>


</div>


  </div>
</header>

  
  

  <div class='container entry-content'>
  <p><a href="https://arthursw.github.io/trichromatism/">Trichromatism</a> est un outil de conversion d&rsquo;image bitmap en image vectorielle composée de lignes de 3 couleurs qui peuvent ensuite être dessinée par un traceur comme <a href="http://arthurmasson.xyz/tipibot/">le Tipibot</a>.</p>
<p>Un shader de previsualisation permet de faire un réglage des paramètres en temps réel.</p>
<p>Un algrithme similaire est ensuite executé sur le CPU pour générer le fichier vectoriel SVG correspondant.</p>
<p><a href="https://github.com/arthursw/trichromatism/">Sources</a></p>
<h2 id="quelques-resultats">Quelques resultats</h2>
<p><img alt="Bike" src="/images/trichromatism/bike.jpg">
<img alt="King Fisher" src="/images/trichromatism/king-fisher.jpg">
<img alt="Nyala" src="/images/trichromatism/nyala.jpg"></p>
<h2 id="rendu">Rendu</h2>
<p>L&rsquo;objectif est le suivant :</p>
<ul>
<li>calculer 4 nouvelles couleurs à partir des 3 couleurs données (mélanger la couleur A avec la couleur B, la A avec la C, la B avec la C, puis les trois ensemble)</li>
<li>cela donne donc 7 couleurs, plus le noir et le blanc,</li>
<li>pour chaque pixel de l&rsquo;image, trouver la couleur la plus proche,</li>
<li>dessiner les lignes correspondantes avec l&rsquo;angle donné.</li>
</ul>
<p>Le shader est compliqué.</p>
<p>Pour obtenir un rendu réaliste des lignes, j&rsquo;ai du appliquer un déplacement à la lecture du pixel, comme illustré sur l&rsquo;image suivante:</p>
<p><img alt="Line offset" src="/images/trichromatism/line-offset.jpg"></p>
<p>Cela signifie que l&rsquo;algorithme être appliqué trois fois sur l&rsquo;image (une fois par angle) pour obtenir la couleur final du pixel et dessiner les lignes correpondantes ; comme le montre les images suivantes :</p>
<p><img alt="Angles" src="/images/trichromatism/angles.jpg"></p>
<p>Cela permet d&rsquo;obtenir des fins de ligne réalistes (image de gauche ci-dessous). Sans déplacement, les fins de ligne suivraient les conteurs de l&rsquo;image ce qui laisserait apparaître beaucoup de détails qui ne seraient pas retranscrits par les lignes (image de droite ci-dessous).</p>
<p><img alt="Edges" src="/images/trichromatism/edges.jpg"></p>
<p>Pour calculer la distance entre les couleurs, j&rsquo;ai utilisé la formule <a href="https://en.wikipedia.org/wiki/Color_difference">CIE Lab - delta E* CIE94 détaillée sur Wikipedia</a>.</p>
<p>J&rsquo;ai implémenté la conversion de couleurs à la fois sur le shader et sur l&rsquo;algorithme executé sur le CPU.</p>
<p>Pour mélanger deux couleur, j&rsquo;ai choisi de les convertir en CMJN, de les ajouter, puis les diviser par un poids donné. Plus le poids est élevé, plus les couleurs obtenues seront claires.</p>
<h2 id="améliorations">Améliorations</h2>
<p>Il est possible d&rsquo;implémenter plusieurs variantes :</p>
<ul>
<li>Donner N couleurs, chacune avec un angle, et ne pas les mélanger, juste dessiner la couleur la plus proche.</li>
<li>Convertir l&rsquo;image en CMJN, seuiller chaque composante séparément, et dessiner les lignes en fonction des valeurs obtenues. Cela pourrait également fonctionner en RVB.</li>
<li>Utiliser des motifs différents des lignes droites.</li>
<li>Utiliser <a href="http://arthurmasson.xyz/fr/space-filling-curves/">une courbe de remplissage de l&rsquo;espace</a> pour dessiner chaque composante (CMJN) de l&rsquo;image avec une ligne dédiée.</li>
</ul>

</div>

  
<footer class='entry-footer'>
  <div class='container sep-before'><div class='tags'><svg
  class="icon"
  xmlns="http://www.w3.org/2000/svg"
  viewbox="0 0 24 24"
  stroke-linecap="round"
  stroke-linejoin="round"
  stroke-width="2"
  aria-hidden="true"
><path d="M20.59,13.41l-7.17,7.17a2,2,0,0,1-2.83,0L2,12V2H12l8.59,8.59A2,2,0,0,1,20.59,13.41Z" />
<line x1="7" y1="7" x2="7" y2="7" />
</svg>
<span class='screen-reader-text'>Tags: </span><a class='tag' href='/fr/tags/artwork/'>Artwork</a>, <a class='tag' href='/fr/tags/experiment/'>Experiment</a>, <a class='tag' href='/fr/tags/application/'>Application</a>, <a class='tag' href='/fr/tags/from1to18days/'>From1to18days</a></div>

  </div>
</footer>


</article>

<nav class='entry-nav-container'>
  <div class='entry-nav'><div class='prev-entry'>
      <a href='/fr/lunettes/'>
        <span aria-hidden='true'><svg
  class="icon"
  xmlns="http://www.w3.org/2000/svg"
  viewbox="0 0 24 24"
  stroke-linecap="round"
  stroke-linejoin="round"
  stroke-width="2"
  aria-hidden="true"
><line x1="20" y1="12" x2="4" y2="12" />
<polyline points="10 18 4 12 10 6" />
</svg>
 Précédent</span>
        <span class='screen-reader'>Billet précédent: </span>
        <span class="prev-title">Prototype de Lunettes</span>
      </a>
    </div></div>
</nav>




      </main>

      <footer id='footer' class='footer'>
        <div class='container sep-before'><div class='copyleft'>
  <p>
  </p>
</div>

        </div>
      </footer>

    </div>
  </div><script>window.__assets_js_src="/assets/js/"</script>

<script src='/assets/js/main.c3bcf2df.js'></script><script src='/assets/js/custom.js'></script>

</body>

</html>

